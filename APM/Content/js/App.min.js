function loading(){const n=$("#loading");n.hasClass("hide")?n.removeClass("hide"):n.addClass("hide")}function removeComma(n){return n.replace(new RegExp(",","g"),"")}function autoComma(n){n+="";n=n.replace(",","");n=n.replace(",","");n=n.replace(",","");n=n.replace(",","");n=n.replace(",","");n=n.replace(",","");var i=n.split("."),t=i[0],u=i.length>1?"."+i[1]:"";const r=/(\d+)(\d{3})/;while(r.test(t))t=t.replace(r,"$1,$2");return t+u}function numberWithCommas(n){return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function validateSelect(n){var t=!0;return $(".needs-validation .select-wrapper.mdb-select.required").find("input.select-dropdown").each(function(){console.log(this);$(this).val()===""||$(this).val()==="انتخاب نمایید"?($(this).addClass("is-invalid").removeClass("is-valid"),n.preventDefault(),t=!1):$(this).removeClass("is-invalid").addClass("is-valid")}),t}function validate(n){var t=!0;return $(".needs-validation .form-control.required").each(function(){$(this).val()===""||$(this).val()==="انتخاب نمایید"?($(this).addClass("is-invalid").removeClass("is-valid"),n.preventDefault(),t=!1):$(this).removeClass("is-invalid").addClass("is-valid")}),$(".needs-validation .select-wrapper.mdb-select.required").find("input.select-dropdown").each(function(){$(this).val()===""||$(this).val()==="انتخاب نمایید"?($(this).addClass("is-invalid").removeClass("is-valid"),n.preventDefault(),t=!1):$(this).removeClass("is-invalid").addClass("is-valid")}),t}function FoodTitle(n){var t="";return $.get("/Welfare/Food/Name/"+n,function(n){t=n}),t}function UserAccess(n,t,i,r=true,u=true,f=-100,e=false,o=false){var s=$(`#${i}`),h=!0;$.getJSON(`/${n}/Items/?id=${t}&all=${o}`,function(n){if(s.empty(),n.length>1&&u&&s.append($("<option/>",{value:"",text:" ",selected:"selected"})),e===!0)for(let t=0;t<n.length;t++)s.append($("<option/>",{value:n[t].Id,text:n[t].Title,"data-secondary-text":n[t].Des}));else for(let t=0;t<n.length;t++)s.append($("<option/>",{value:n[t].Id,text:n[t].Title}));n.length===1?(s.removeAttr("multiple"),s.val(n[0].Id),h=!1,s.trigger("change")):f!==-100&&(s.val(f),h=!1)}).then(function(){if(r)switch(n){case"Company":$("#Subsidiary").empty();$("#Subsidiary").materialSelect({destroy:!0});$("#Subsidiary").materialSelect({});$("#Management").empty();$("#Management").materialSelect({destroy:!0});$("#Management").materialSelect({});$("#Office").empty();$("#Office").materialSelect({destroy:!0});$("#Office").materialSelect({});$("#OfficeDepartment").empty();$("#OfficeDepartment").materialSelect({destroy:!0});$("#OfficeDepartment").materialSelect({});break;case"Subsidiary":$("#Management").empty();$("#Management").materialSelect({destroy:!0});$("#Management").materialSelect({});$("#Office").empty();$("#Office").materialSelect({destroy:!0});$("#Office").materialSelect({});$("#OfficeDepartment").empty();$("#OfficeDepartment").materialSelect({destroy:!0});$("#OfficeDepartment").materialSelect({});case"Management":$("#Office").materialSelect({destroy:!0});$("#Office").empty();$("#Office").materialSelect({});$("#OfficeDepartment").materialSelect({destroy:!0});$("#OfficeDepartment").empty();$("#OfficeDepartment").materialSelect({});case"Office":$("#OfficeDepartment").materialSelect({destroy:!0});$("#OfficeDepartment").empty();$("#OfficeDepartment").materialSelect({})}s.materialSelect({destroy:!0});s.materialSelect({});h?$(`[data-activates="select-options-${i}"]`).val(""):s.trigger("change")})}function UserAccess2(n,t,i,r=true,u=true,f=-100,e=false){var o=$(`#${i}`),s=!0;$.getJSON(`/${n}/Items/?id=${t}&all=${e}`,function(n){o.empty();n.length>0&&u&&o.append($("<option/>",{value:"",text:" ",selected:"selected"}));for(let t=0;t<n.length;t++)o.append($("<option/>",{value:n[t].Id,text:n[t].Title}));n.length===1?(o.removeAttr("multiple"),o.val(n[0].Id),s=!1):f!==-100&&(o.val(f),s=!1)}).then(function(){if(r)switch(n){case"Company":$("#Subsidiary").empty();$("#Management").empty();$("#Office").empty();$("#OfficeDepartment").empty();break;case"Subsidiary":$("#Management").empty();$("#Office").empty();$("#OfficeDepartment").empty();case"Management":$("#Office").empty();$("#OfficeDepartment").empty();case"Office":$("#OfficeDepartment").empty()}s?$(`[data-activates="select-options-${i}"]`).val(""):o.trigger("change")})}function Offices(n,t){var i=$(`#${n}`),r=!0,u="";i.materialSelect({destroy:!0});$.getJSON("/Office/Items2/",function(n){n.length===1&&(r=!1,u=JSON.stringify(n[0].Department));i.empty();for(let t=0;t<n.length;t++)i.append($("<option/>",{value:n[t].Id,text:n[t].Title,department:JSON.stringify(n[t].Department)}))}).then(function(){i.materialSelect({});r?$(`[data-activates="select-options-${n}"]`).val("").prop("placeholder","انتخاب نمایید"):OfficesDepartments(t,u)})}function OfficesDepartments(n,t){var r=$(`#${n}`),u=!0,i;r.materialSelect({destroy:!0});i=JSON.parse(t);i.length===1&&(u=!1);r.empty();for(let n=0;n<i.length;n++)r.append($("<option/>",{value:i[n].Id,text:i[n].Title}));r.materialSelect({});u&&$(`[data-activates="select-options-${n}"]`).val("").prop("placeholder","انتخاب نمایید")}function Vehicles(n){var t=$(`#${n}`),i=!0;$.getJSON("/Vehicle/Items/",function(n){t.empty();for(let i=0;i<n.length;i++)t.append($("<option/>",{value:n[i].Id,text:n[i].Title,"data-secondary-text":n[i].Management+" - "+n[i].Office}))}).then(function(){t.materialSelect({destroy:!0});t.materialSelect({});i&&$(`[data-activates="select-options-${n}"]`).val("")})}function Drivers(n,t){var i=$(t);$.getJSON("/Vehicle/ListDriver/",{id:n},function(n){i.empty();for(let t=0;t<n.length;t++)i.append($("<option/>",{value:n[t].NationalCode,text:n[t].Name+" "+n[t].Family,"data-secondary-text":n[t].NationalCode}))}).then(function(){i.materialSelect({destroy:!0});i.materialSelect({})})}function AccountNumbers(n,t=0){var i=$(`#${n}`),r=!0;$.getJSON("/OfficeDepartmentAccountNumbers/Items/",function(n){i.empty();for(let t=0;t<n.length;t++)i.append($("<option/>",{value:n[t].Id,text:n[t].AccountNumber,"data-secondary-text":n[t].Title}));n.length===1&&(i.removeAttr("multiple"),i.val(n[0].Id),r=!1);t!==0&&(i.val(t),r=!1,OfficeTitle(t))}).then(function(){i.materialSelect({destroy:!0});i.materialSelect({});r&&$(`[data-activates="select-options-${n}"]`).val("")})}function Contracts(n,t=0){var i=$(`#${n}`),r=!0;$.getJSON("/Welfare/Contract/Items/",function(n){i.empty();for(let t=0;t<n.length;t++)i.append($("<option/>",{value:n[t].Id,text:n[t].Title,"data-secondary-text":n[t].Number}));n.length===1&&(i.removeAttr("multiple"),i.val(n[0].Id),r=!1);t!==0&&(i.val(t),r=!1,OfficeTitle(t))}).then(function(){i.materialSelect({destroy:!0});i.materialSelect({});r&&$(`[data-activates="select-options-${n}"]`).val("")})}function Routes(n,t){var i=$(`#${n}`);$.getJSON("/Travel/Route/Items/",function(r){i.materialSelect({destroy:!0});i.empty();t===undefined&&i.append('<option value="" disabled selected><\/option>');for(let n=0;n<r.length;n++)i.append($("<option/>",{value:r[n].Id,text:r[n].Title}));t!==""&&$(`#${n} option[value = "${t}"]`).attr("selected","selected")}).then(function(){i.materialSelect({});t!==undefined?$(`#${n} option[value = "${t}"]`).attr("selected","selected"):$(`[data-activates="select-options-${n}"]`).val("")})}function VehicleTypes(n,t){var i=$(`#${n}`);$.getJSON("/Travel/VehicleType/Items/",function(r){i.materialSelect({destroy:!0});i.empty();t===undefined&&i.append('<option value="" disabled selected><\/option>');for(let n=0;n<r.length;n++)i.append($("<option/>",{value:r[n].Id,text:r[n].Title}));t!==""&&$(`#${n} option[value = "${t}"]`).attr("selected","selected")}).then(function(){i.materialSelect({});t!==undefined?$(`#${n} option[value = "${t}"]`).attr("selected","selected"):$(`[data-activates="select-options-${n}"]`).val("")})}function City(n,t){var i=$(`#${n}`);$.getJSON("/City/Items/",function(r){i.materialSelect({destroy:!0});i.empty();t===undefined&&i.append('<option value=""  selected><\/option>');for(let n=0;n<r.length;n++)i.append($("<option/>",{value:r[n].Id,text:r[n].Title}));t!==""&&$(`#${n} option[value = "${t}"]`).attr("selected","selected")}).then(function(){i.materialSelect({});t!==undefined?$(`#${n} option[value = "${t}"]`).attr("selected","selected"):$(`[data-activates="select-options-${n}"]`).val("")})}function Trips(n,t,i){var r=$(`#${n}`);$.getJSON("/Travel/Trip/JsonList/",{date:t,vehicleType:i},function(n){r.empty();r.append('<option value="" selected><\/option>');for(let i=0;i<n.length;i++){var t=""+n[i].Items;r.append($("<option/>",{value:n[i].Id,text:n[i].Origin+" به "+n[i].Destination+" - "+n[i].Time,"data-Time":n[i].Time,"data-origin":n[i].Origin,"data-destination":n[i].Destination,"data-destination-id":n[i].DestinationId,"data-origin-id":n[i].OriginId,"data-route":n[i].Route,"data-foodLunch":t.includes("foodLunch")?!0:!1,"data-foodBreakfast":t.includes("foodBreakfast")?!0:!1,"data-foodDinner":t.includes("foodDinner")?!0:!1}))}}).then(function(){r.materialSelect({});$(`[data-activates="select-options-${n}"]`).val("").prop("placeholder","انتخاب نمایید")})}function Food(n){var t=$(`${n}`);$.getJSON("/Welfare/Food/Items",function(n){t.empty();t.append('<option value="" disabled selected class="d-none"><\/option>');for(let i=0;i<n.length;i++)t.append($("<option/>",{value:n[i].Id,text:n[i].Title}))}).then(function(){t.materialSelect({destroy:!0});t.materialSelect({})})}function Meals(n,t=false){var i=$(`${n}`);$.getJSON("/Welfare/Meal/Items",{all:t},function(n){i.empty();i.append('<option value="" disabled selected class="d-none">انتخاب نمایید<\/option>');for(let t=0;t<n.length;t++)i.append($("<option/>",{value:n[t].Id,text:n[t].Title}))}).then(function(){i.materialSelect({destroy:!0});i.materialSelect({})})}function MealsInput(n,t,i=false){var r=$(`${n}`);$.getJSON("/Welfare/Meal/Items",{all:i},function(n){var i="";for(let r=0;r<n.length;r++)i+=`
                        <div class="col">
                            <div class="md-form md-outline my-2 ">
                                <input type="number" class="form-control text-center" data-val="true" data-val-required=" " id="${t}-${n[r].Id}" name="${t}-${n[r].Id}" value="0" min="0" max="10000">
                                <label for="${t}-${n[r].Id}" class="m-active">${n[r].Title}</label>
                            </div>
                        </div>`;r.html(i)})}function MealsInputShift(n,t,i=false){var r=$(`${n}`);$.getJSON("/Welfare/Meal/Items",{all:i,shift:!0},function(n){var i="";for(let r=0;r<n.length;r++)i+=`
                        <div class="col">
                            <div class="md-form md-outline my-2 ">
                                <input type="number" class="form-control text-center" data-val="true" data-val-required=" " id="${t}-${n[r].Id}" name="${t}-${n[r].Id}" value="0" min="0" max="10000">
                                <label for="${t}-${n[r].Id}" class="m-active">${n[r].Title}</label>
                            </div>
                        </div>`;i+=`<div class="col">
                            <div class="md-form md-outline my-2 ">
                                <input type="number" class="form-control text-center afterDinner" data-val="true" data-val-required=" " id="${t}-5" name="${t}-5" value="0" min="0" max="10000">
                                <label for="${t}-5" class="m-active">پس شام</label>
                            </div>
                        </div>`;r.html(i)})}function MealsSwitch(n,t=false){$.ajax({url:"/Welfare/Meal/ItemsSwitch",data:{all:t},type:"GET",success:function(t){$(`${n}`).html(t)},error:function(n){toastr.error(`هنگام انجام درخواست شما  خطایی رخ داده است.<br /><small>${n}</small>`)}}).then(function(){})}function Restaurants(n){var t=$(`${n}`);$.getJSON("/Welfare/Restaurant/Items",function(n){t.empty();t.append('<option value="" disabled selected>انتخاب نمایید<\/option>');for(let i=0;i<n.length;i++)t.append($("<option/>",{value:n[i].Id,text:n[i].Title}))}).then(function(){$(`${n}`).materialSelect({destroy:!0});t.materialSelect({})})}function Questions(n,t){var i=$(`${n}`);$.getJSON("/Welfare/Survey/QuestionItems/"+t,function(n){i.empty();i.append('<option value="" disabled selected>انتخاب نمایید<\/option>');for(let t=0;t<n.length;t++)i.append($("<option/>",{value:n[t].Id,text:n[t].Title}))}).then(function(){$(`${n}`).materialSelect({destroy:!0});i.materialSelect({})})}function Surveys(n){var t=$(`${n}`);$.getJSON("/Welfare/Survey/SurveyItems/",function(n){t.empty();t.append('<option value="" disabled selected>انتخاب نمایید<\/option>');for(let i=0;i<n.length;i++)t.append($("<option/>",{value:n[i].Id,text:n[i].Title}))}).then(function(){$(`${n}`).materialSelect({destroy:!0});t.materialSelect({})})}function RestaurantsContract(n,t){var i=$(`${n}`);$.getJSON("/Welfare/Restaurant/Contract/"+t,function(n){i.empty();i.append('<option value="" disabled selected><\/option>');for(let t=0;t<n.length;t++)i.append($("<option/>",{value:n[t].Id,text:n[t].Title}))}).then(function(){$(`${n}`).materialSelect({destroy:!0});i.materialSelect({})})}function FoodReservationStatus(n){var t=$(`${n}`);$.getJSON("/Welfare/FoodReservationStatus/Items",function(n){t.empty();t.append('<option value="" disabled selected><\/option>');for(let i=0;i<n.length;i++)t.append($("<option/>",{value:n[i].Id,text:n[i].Title}))}).then(function(){t.materialSelect({destroy:!0});t.materialSelect({})})}function listFood(n,t,i,r){var u=$(r);$.getJSON("/reservation/food/RestaurantFood",{restaurant:n,meal:t,date:i},function(n){u.materialSelect({destroy:!0});u.empty();for(let t=0;t<n.length;t++)u.append($("<option/>",{value:n[t].Id,text:n[t].Title}))}).then(function(){u.materialSelect({})})}function Foods(n,t,i,r){var u=$(r);$.getJSON("/reservation/food/RestaurantFood",{restaurant:n,meal:t,date:i},function(n){for(let t=0;t<n.length;t++)u.append($("<option/>",{value:n[t].Id,text:n[t].Title}))}).then(function(){u.append('<option value="" style="color:red">عدم رزرو غذا<\/option>')})}function Beds(n,t,i){var r=$(i);$.getJSON("/Welfare/Bed/Items/",{id:n,status:t},function(n){r.empty();for(let t=0;t<n.length;t++)r.append($("<option/>",{value:n[t].Id,text:n[t].Number}))}).then(function(){})}function IsChecked(n){return $(`#${n}`).is(":checked")?!0:!1}function OfficeTitle(n){$.getJSON("/OfficeDepartmentAccountNumbers/JsonOffice/",{id:n},function(n){$("#OfficeTitle").html(n.Office);$("#OfficeDepartmentTitle").html(n.OfficeDepartment)})}function ProductStatus(n,t,i){var r=$(`#${n}`);$.getJSON("/Store/Category2/JsonList/",{category1:t},function(t){r.empty();i===undefined&&r.append('<option value=""  selected>&nbsp;<\/option>');for(let n=0;n<t.length;n++){var u=""+t[n].Items;r.append($("<option/>",{value:t[n].Id,text:t[n].Title,"data-Repairable":t[n].Repairable,"data-Requestable":t[n].Requestable,"data-Threshold":t[n].Threshold}))}i!==""&&$(`#${n} option[value = "${i}"]`).attr("selected","selected")}).then(function(){r.materialSelect({});i!==undefined?$(`#${n} option[value = "${i}"]`).attr("selected","selected"):$(`[data-activates="select-options-${n}"]`).val("")})}function Category2(n,t,i){var r=$(`#${n}`);$.getJSON("/Store/Category2/JsonList/",{category1:t},function(t){r.empty();(i===undefined||i===1)&&r.append('<option value="1"  selected>&nbsp;<\/option>');for(let n=0;n<t.length;n++){var u=""+t[n].Items;r.append($("<option/>",{value:t[n].Id,text:t[n].Title,"data-Repairable":t[n].Repairable,"data-Requestable":t[n].Requestable,"data-Threshold":t[n].Threshold}))}i!==""&&$(`#${n} option[value = "${i}"]`).attr("selected","selected")}).then(function(){r.materialSelect({});i!==undefined?$(`#${n} option[value = "${i}"]`).attr("selected","selected"):$(`[data-activates="select-options-${n}"]`).val("")})}function Category1(n,t){var i=$(`#${n}`);$.getJSON("/Store/Category1/JsonList/",function(r){i.materialSelect({destroy:!0});i.empty();t===undefined&&i.append('<option value=""  selected>&nbsp;<\/option>');for(let n=0;n<r.length;n++)i.append($("<option/>",{value:r[n].Id,text:r[n].Title}));t!==""&&$(`#${n} option[value = "${t}"]`).attr("selected","selected")}).then(function(){i.materialSelect({});t!==undefined?$(`#${n} option[value = "${t}"]`).attr("selected","selected"):$(`[data-activates="select-options-${n}"]`).val("")})}function Stores(n,t,i=false,r=-5){var u=$(`#${n}`),f=!0;$.getJSON(`/Store/Stores/Items/?all=${i}&ids=${r}`,function(i){u.empty();t===undefined&&u.append('<option value="" disabled selected><\/option>');for(let n=0;n<i.length;n++)u.append($("<option/>",{value:i[n].Id,text:i[n].Title}));t!==""?($(`#${n} option[value = "${t}"]`).attr("selected","selected"),u.val(t),f=!1):i.length===1&&(u.val(i[0].Id),f=!1)}).then(function(){$(`#${n}`).materialSelect({destroy:!0});u.materialSelect({});t!==undefined?$(`#${n} option[value = "${t}"]`).attr("selected","selected"):f&&$(`[data-activates="select-options-${n}"]`).val("")})}function Products(n){var t=$(`#${n}`),i=!0;$.getJSON("/Store/Products/Items/",function(n){t.empty();for(let i=0;i<n.length;i++)t.append($("<option/>",{value:n[i].Id,text:n[i].Title,"data-secondary-text":n[i].Category1+" - "+n[i].Category1}))}).then(function(){t.materialSelect({destroy:!0});t.materialSelect({});i&&$(`[data-activates="select-options-${n}"]`).val("")})}var today=new Date,tomorrow=new Date,threeDays=new Date,yesterday=new Date,lastWeek=new Date,lastMonth=new Date,lastYear=new Date,nextWeek=new Date,toastr_option1,toastr_options;tomorrow.setDate((new Date).getDate()+1);threeDays.setDate((new Date).getDate()+3);yesterday.setDate((new Date).getDate()-1);lastWeek.setDate((new Date).getDate()-7);lastMonth.setDate((new Date).getDate()-30);lastYear.setDate((new Date).getDate()-365);nextWeek.setDate((new Date).getDate()+7);toastr_option1={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!0,positionClass:"md-toast-top-left",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"4000",extendedTimeOut:"4000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};toastr_options={closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!0,positionClass:"md-toast-top-left",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"200000",extendedTimeOut:"20000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};$(document).ajaxStart(function(){$("#loading").removeClass("hide")});$(document).ajaxStop(function(){setTimeout(function(){$("#loading").addClass("hide")},300)});$(document).ajaxComplete(function(){$('[data-toggle="popover"]').popover({trigger:"hover",container:"body"});$('[data-popover="popover"]').popover({trigger:"hover",container:"body"})});$(document).submit(function(){$("#loading").removeClass("hide")});$("#AccountNumber").on("change",function(n){OfficeTitle(n.target.value)});$(document).ready(function(){var t,r;$(".button-collapse").sideNav({edge:"right",closeOnClick:!1,breakpoint:1440,MENU_WIDTH:240,timeDurationOpen:300,timeDurationClose:200,timeDurationOverlayOpen:50,timeDurationOverlayClose:200,easingOpen:"easeOutQuad",easingClose:"easeOutCubic",showOverlay:!0,showCloseButton:!1});t=document.querySelector(".custom-scrollbar");r=new PerfectScrollbar(t,{wheelSpeed:2,wheelPropagation:!0,minScrollbarLength:20});(new WOW).init();$(".timepicker").timepicker({timeFormat:"HH:mm",dynamic:!1,dropdown:!1,scrollbar:!1});var i=".collapsible li",u=window.location.pathname.toLowerCase(),n=$("#p-link").html();try{n=n.toLowerCase()}catch(f){}$(i).each(function(){const r=$(this).find("a"),t=r[0].pathname.toLowerCase();(t===u||t===n)&&($(i).removeClass("active"),$(this).parent().parent().parent().removeClass("active").addClass("active"),$(this).parent().parent().parent().find("a:first").removeClass("active").addClass("active"),$(this).find("a").removeClass("active").addClass("active"),$(this).parent().parent().parent().find("div:first").css({display:"block"}))});$(".mdb-select:not(#advancedSearch .mdb-select):not(.ajax-select):not(.delay-mdb-select)").materialSelect();$(".mdb-select.not-required.do-select.select-wrapper .select-dropdown").val("").prop("placeholder","انتخاب نمایید");$(".mdb-select.required.do-select.select-wrapper .select-dropdown").val("").prop("placeholder","انتخاب نمایید");$(".needs-validation select").on("change",n=>validateSelect(n));$(".needs-validation").on("submit",n=>validateSelect(n));$("#StartDate").on("change",function(){var n=$("#StartDate").val(),t=$("#EndDate").val();n>t&&$("#eDate").MdPersianDateTimePicker("setDate",new Date(n))});$("#EndDate").on("change",function(){var t=$("#StartDate").val(),n=$("#EndDate").val();t>n&&$("#sDate").MdPersianDateTimePicker("setDate",new Date(n))})});